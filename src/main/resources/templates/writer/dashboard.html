<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout::head}"></head>
<body>
  <nav th:replace="~{layout::navbar}"></nav>
  
  <main >
    
    <div th:if="${successMessage}" class="alert alert-success">
      <p th:text="${successMessage}"></p>
    </div>
    
    <div class="container">
      <div class="row">
        <div class="col">
          <h1 class="text-white mt-5">Dashboard scrittore</h1>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div class="row">
        <div class="col">
          <p th:text="${title}" class="text-white"></p>
        </div>
      </div>
    </div>
    
    
    <div class="container mt-3 p-4 ">
      <div class="row bg-table">
        <div class="col-12 mt-3 ">
          <div class="table-responsive-sm">
            <table class="table table-dark table table-striped">
              <thead>
                <tr>
                  <th scope="col" class="d-none d-lg-table-cell">id</th>
                  <th scope="col">Titolo</th>
                  <th scope="col" class="d-none d-lg-table-cell">Sottotitolo</th>
                  <th scope="col" class="d-none d-lg-table-cell">Categoria</th>
                  <th scope="col">#Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr th:each="article:${articles}">
                  <td th:text="${article.id}" class="d-none d-lg-table-cell"></td>
                  <td th:text="${article.title}" class="text-truncate" style="max-width: 265px;"></td>
                  <td th:text="${article.subtitle}" class="d-none d-lg-table-cell text-truncate"></td>
                  <td th:if="${article.category}" th:text="${article.category.name}" class="d-none d-lg-table-cell"></td>
                  <td th:unless="${article.category}">Nessuna categoria</td>
                  <td>
                    <div>
                      
                    </div>
                    <a th:href="@{/articles/details/{id}(id=${article.id})}" class="btn btn-primary">
                      <i class="bi bi-list"></i>
                    </a>
                    <a th:href="@{/articles/edit/{id}(id=${article.id})}" class="btn btn-warning">
                      <i class="bi bi-pen"></i>
                    </a>
                    <a th:href="@{/articles/delete/{id}(id=${article.id})}" class="btn btn-danger">
                      <i class="bi bi-trash"></i>
                    </a>
                    
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    
    
  </main>
  <footer th:replace="~{layout::footer}"></footer>
  <script th:replace="~{layout::bss}"></script>
</body>
</html>